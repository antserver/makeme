<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis MakeMe 0.8.0 Documentation</title>
    <meta name="keywords" content="MakeMe, Bit, GYP, autoconf"/>
	<meta name="description" content="Embedthis MakeMe -- Fast, modern replacement for make and autoconf."/>
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    </![endif]-->
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://embedthis.com/">&nbsp;</a>
        <div class="topRight">
            <div class="search">
                <div id="cse-search-form">Loading</div>
                <div class="version">Embedthis MakeMe 0.8.0</div>
            </div>
        </div>
        <div class="crumbs">
            <a href="../../../index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">Developer Guide</a>&gt; <b>Creating a MakeMe Project</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            
                <h1>Quick Nav </h1>
                <ul>
                    <li><a href="#configure">Creating</a></li>
                    <li><a href="#settings">Settings</a></li>
                    <li><a href="#usage">Usage Message</a></li>
                    <li><a href="#samples">Samples</a></li>
                </ul>
<!-- BeginDsi "dsi/devSeeAlso.html" -->
            <h1>See Also</h1>
            <ul>
                <li><a href="../../../guide/makeme/developers/index.html">Dev Guide</a></li>
                <li><a href="../../../guide/makeme/developers/projects.html">MakeMe Projects</a></li>
                <li><a href="../../../guide/makeme/developers/compiling.html">Compiling Sources</a></li>
                <li><a href="../../../guide/makeme/developers/libraries.html">Creating Libraries</a></li>
                <li><a href="../../../guide/makeme/developers/executables.html">Building Executables</a></li>
                <li><a href="../../../guide/makeme/developers/scripts.html">Running Scripts</a></li>
                <li><a href="../../../guide/makeme/developers/copying.html">Copying Files</a></li>
                <li><a href="../../../guide/makeme/developers/creating.html">Creating a Project</a></li>
                <li><a href="../../../guide/makeme/developers/extensions.html">Creating Extensions</a></li>
                <li><a href="../../../guide/makeme/developers/generating.html">Generating Projects</a></li>
                <li><a href="../../../guide/makeme/developers/samples.html">MakeMe Samples</a></li>

                <li><a href="http://ejscript.org/products/ejs/doc/api/ejscript/index.html">Ejscript Language</a></li>
                <li><a href="http://ejscript.org/products/ejs/doc/index.html">Ejscript Documentation</a></li>
            </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
        <h2>Creating a MakeMe Project</h2>
        <p>MakeMe enables you to create highly configurable projects by supporting a configure phase for users to
        run before building the software. The configure phase allows the user to select desired product features and
       extensions to tailor the product for their local operating system and platform.</p>

        <p>The configuration phase generates a platform MakeMe file and a <em>me.h</em> header that is typically included by
        most, if not all source files. These two files fully describe the build characteristics with selected
        extensions and options. When MakeMe is run, it uses these build instructions to direct the build. When
        source is compiled, it can access conditional build definitions in the me.h header.</p>

        <a name="configure"></a>
        <h2>Configure Script</h2>
        <p>To achieve a configurable build, developers typically provide a <em>configure</em> script to mimic the 
       familiar autoconf configure pattern. This script minimally invokes MakeMe using the configure target:</p>
<pre>
# configure script
me configure "$@"
</pre>
        <a name="options"></a>
        <h2>Defining Configurable Options</h2>
        <p>Developers should specify the supported extensions and configuration settings in the product's 
        <em>main.me</em> file.</p>

        <a name="extensions"></a>
        <h2>Extensions</h2>
       <p>A product may be extended by the discovery and addition of extensions. These are modules that
        contribute libraries, files or other components to the product to extend core functionality. Examples are:
        the ESP web framework, the OpenSSL SSL stack, and the htmlmin compression tool.</p>
   
        <h3>Extension Description Files</h3>
        <p>Extensions are located using probe scripts. Many standard extension probes are provided with the MakeMe product. 
        These are stored under the <em>makeme/probes</em> directory in the installed MakeMe product directory. 
        A product may also contribute their own probes that are typically stored under the
        <em>makeme/probes</em> directory in the product source. Here is a partial list of the standard extension probes 
        supplied with MakeMe.</p>

        <table title="extensions">
        <thead>
        <tr><th>Extension</th><th>Description</th></tr>
        </thead>
        <tbody>
            <tr><td>compilermeme</td><td>Compiler detection</td></tr>
            <tr><td>doxygen.me</td><td>Doxygen documentation generator</td></tr>
            <tr><td>ejs.me</td><td>Ejscript shell tool</td></tr>
            <tr><td>est.me</td><td>Embedded Security Transport (SSL)</td></tr>
            <tr><td>http.me</td><td>Http command tool</td></tr>
            <tr><td>lib.me</td><td>Library archive program (ar, lib)</td></tr>
            <tr><td>link.me</td><td>Linker program</td></tr>
            <tr><td>man.me</td><td>Man page tool</td></tr>
            <tr><td>man2html.me</td><td>Man page to HTML tool</td></tr>
            <tr><td>matrixssl.me</td><td>MatrixSSL (SSL)</td></tr>
            <tr><td>md5.me</td><td>MD5 checksum tool</td></tr>
            <tr><td>nanossl.me</td><td>Mocana NanoSSL (SSL)</td></tr>
            <tr><td>openssl.me</td><td>OpenSSL (SSL)</td></tr>
            <tr><td>pcre.me</td><td>PCRE regular expression library</td></tr>
            <tr><td>pmaker.me</td><td>Package maker tool (PackageMaker, rpmbuild, InnoSetup)</td></tr>
            <tr><td>ranlib.me</td><td>Ranlib tool</td></tr>
            <tr><td>rc.me</td><td>Resource compiler tool on windows</td></tr>
            <tr><td>sqlite.me</td><td>SQLite library</td></tr>
            <tr><td>ssl.me</td><td>SSL Support</td></tr>
            <tr><td>strip.me</td><td>Strip tool</td></tr>
            <tr><td>tidy.me</td><td>HTML tidy program</td></tr>
            <tr><td>utest.me</td><td>Ejscript unit test framework</td></tr>
            <tr><td>vxworks.me</td><td>WindRiver VxWorks Development Environment</td></tr>
            <tr><td>winsdk.me</td><td>Windows SDK</td></tr>
            <tr><td>zip.me</td><td>Zip command tool</td></tr>
            <tr><td>zlib.me</td><td>Zlib library</td></tr>
            </tbody>
        </table>
        <p>Extensions can be selected or deselected by users via the configure <em>--with</em> and <em>--without</em>
        switches.</p>
        <pre>
configure -with NAME
configure -with NAME=/path/to/extension</pre>
        <a name="running"></a>
        <h3>Running Configure</h3>
        <p>With an appropriate main.me file, users can run configure to select or deselect extensions. For example:</p>
<pre>configure -with openssl -without est --without cgi</pre>

        <a name="settings"></a>
        <h2>Settings</h2>
        <p>The other half of the configuration process is defining settings that the software and selected extensions
        will use when building and running. These options are defined in the <em>settings</em> collection an may 
        be modified via the <em>-set</em> option. For example:
        <pre>configure -set mpr.logging=true</pre>
        <p>The default settings are specified in the main.me file. For example:</p>
<pre>
settings: {
    mode: 'fast',
    mpr: {
        logging: true,
    },
},
</pre>
        <p>Note that settings may be nested inside other collections to any depth. In such cases the feature is selected
        using the normal dot notation.</p>
        <p>When MakeMe configures, it will convert every value in the settings collection into a definition in the
        me.h header. Dots are converted to underscores. For example: mpr.logging is converted to "BIT_MPR_LOGGING".
        True|False values are converted to 1 or 0 as appropriate.</p>
        <a name="usage"></a>
        <h2>Usage Message</h2>
        <p>Developers can tailor the usage message emitted by MakeMe to describe the various configurable options.
        Users can get configuration help by invoking configure with a <em>help</em> target. For example:
<pre>
$ <b>configure help</b>
Usage: me [options] [targets|actions] ...
  Options:
  --benchmark  # Measure elapsed time
  ...
</pre>
        <p>Additional usage messages may be specified in main.me in the <em>usage</em> property collection. For example:
<pre>
usage: {
    'ejs.db':        'Enable database support, ejs.db (true|false)',                                   
    'ejs.mail':      'Enable mail support, ejs.mail (true|false)',
    'ejs.mapper':    'Enable database mapper support, ejs.mapper (true|false)',
},
</pre>
        <a name="samples"></a>
        <h2>Samples</h2>
        <p>The standard probes are a good source of samples for how to create probes. View in the repository at
        <a href="https://github.com/embedthis/makeme/tree/master/makeme/probes">MakeMe Packs</a>.</p>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2014. 
            All rights reserved. Embedthis MakeMe, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> 
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
        var customSearchControl = new google.search.CustomSearchControl(
          'partner-pub-9935546676162772:ysvxxv4n9rx');

        customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
        var options = new google.search.DrawOptions();
        options.enableSearchboxOnly("http://embedthis.com/search.html");
        customSearchControl.draw('cse-search-form', options);
      }, true);
    </script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-179169-5']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
