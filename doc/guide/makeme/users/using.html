<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis MakeMe 0.8.1 Documentation</title>
    <meta name="keywords" content="MakeMe, Bit, GYP, autoconf"/>
	<meta name="description" content="Embedthis MakeMe -- Fast, modern replacement for make and autoconf."/>
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    </![endif]-->
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://embedthis.com/">&nbsp;</a>
        <div class="topRight">
            <div class="search">
                <div id="cse-search-form">Loading</div>
                <div class="version">Embedthis MakeMe 0.8.1</div>
            </div>
        </div>
        <div class="crumbs">
            <a href="../../../index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">User Guide</a>&gt; <b>Using MakeMe</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            
                <h1>Quick Nav </h1>
                <ul>
                    <li><a href="#simple">Simple MakeMe File</a></li>
                    <li><a href="#building">Building Targets</a></li>
                    <li><a href="#rebuild">Re-Building</a></li>
                    <li><a href="#clean">Cleaning</a></li>
                    <li><a href="#errors">Seeing Errors</a></li>
                    <li><a href="#tracing">Tracing Commands</a></li>
                </ul>
<!-- BeginDsi "dsi/userSeeAlso.html" -->
            <h1>See Also</h1>
            <ul>
                <li><a href="../../../guide/makeme/users/using.html">Using MakeMe</a></li>
                <li><a href="../../../guide/makeme/users/configuring.html">Configuring a Project</a></li>
                <li><a href="../../../guide/makeme/users/make.html">Using Makefiles</a></li>
                <li><a href="../../../guide/makeme/users/cross.html">Cross-Compiling</a></li>

                <li><a href="http://ejscript.org/products/ejs/doc/api/ejscript/index.html">Ejscript Language</a></li>
                <li><a href="http://ejscript.org/products/ejs/doc/index.html">Ejscript Documentation</a></li>
            </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
        <a id="overview"></a>
        <h1>Using MakeMe</h1>
        <p>MakeMe is a modern replacement for the venerable 
        <a href="http://en.wikipedia.org/wiki/Make_(software)">make</a> and not so popular 
        <a href="http://en.wikipedia.org/wiki/Autoconf">autoconf</a>. MakeMe manages the building of
        programs and products by simply and efficiently determining which pieces have been updated and thus which
        components need to be rebuilt. It easily handles the direct compilation and generation of projects and Makefiles.</p>
        <a id="simple"></a>
        <h2>Simple MakeMe File</h2>
        <p>A MakeMe file is written in Javascript, though with a <em>.me</em>, and contains a set of build
        instructions expressed as a Javascript object literal. The primary MakeMe file is 
        called <em>start.me</em>. For example:</p>
        <pre>
MakeMe.load({
    targets: {
        /* Build the rocket executable */
        rocket: {
            type: 'exe',
            headers: [ '*.h', 'slots/*.h' ],
            sources: [
                '*.c',
                'core/src/*.c',
                'vm/*.c',
            ],
            depends: [ 'libhttp' ],
        },
    }, 
})
</pre>
        <p>MakeMe is run via the "<em>me</em>" command. So to build the rocket, enter:</p>
        <pre><b>me</b> rocket</pre>
        <a id="building"></a>
        <h2>Building Targets</h2>
        <p>MakeMe is invoked with zero or more goals on the command line to build. If invoked with zero
        goals, MakeMe will build all the out-of-date targets. If a one or more targets are specified, only those targets
        will be brought up to date.</p>
        <p>To build several named targets:</p>
        <pre>me libengine librocket space-program</pre>
        <p>To do an all-targets (default) build, type:: </p>
        <pre>me</pre>
        <p>This is equivalent to:
        <pre>me build</pre>
        <p>An all-targets build will make all file, executable, library, and script targets of type <em>build</em>.</p>
        <p>The <em>all</em> and <em>compile</em> targets are aliases for the <em>build</em> target 
            for those wedded to <em>make</em> style commands.</p>
        <a id="rebuild"></a>
        <h2>Rebuild</h2>
        <p>To rebuild everything including  all built targets and intermediaries, run:</p>
        <pre>me rebuild</pre> 
        <a id="clean"></a>
        <h2>Cleaning</h2>
        <p>To remove all built targets and intermediaries, run:</p>
        <pre>me clean</pre> 
        <p>This will clean all executables, libraries, objects and will run all script targets with a type of "clean".</p>
        <a id="clobber"></a>
        <h2>Clobber</h2>
        <p>To remove all generated files and directories, run:</p>
        <pre>me clobber</pre> 
        <p>This will first do a <em>me clean</em> and then will remove the platform output directories.</p>
        <a id="version"></a>
        <h2>Version</h2>
        <p>To show the product version number, run:</p>
        <pre>$ <b>me version</b>
1.2.0
</pre> 
        <h2>MakeMe Projects</h2>
        <p>When MakeMe is invoked via the "<em>me</em>" command, it searches for a <em>start.me</em> file 
        in the current directory. If one is not found, it searches up the parent directory chain for one. 
        MakeMe then loads the nearest start.me file and commences processing its build instructions. 
        This means you can typically invoke "me" from anywhere in a project source tree.  
        A start.me file may be complete in itself, or it may in turn load other MakeMe files.</p>
        
        <a id="cases"></a>
        <h2>Use cases for MakeMe </h2>
        <p>There are two kinds of MakeMe projects</p>
        <ul>
            <li>Stand-alone</li>
            <li>Configured</li>
        </ul>
        <a name="standalone"></a>
        <h3>Stand-Alone Use</h3>
        <p>A stand-alone <em>start.me</em> file may be used to express simple build targets that do not requiring any prior
        configuration. The start.me file contains targets that specify the recipes to build those targets.
        The full capabilities of MakeMe are available and you can compile sources, build libraries and executables or
        run scripts.</p>
        <a name="configured"></a>
        <h3>Configured Projects</h3>
        <p>Some projects require a configuration phase prior to building with MakeMe. MakeMe configuration of a
        project discovers the available tools and components, and customizes the project to best run on the local
        system.  </p>
        
        <p>For configured products, MakeMe is first invoked with a <em>configure</em> target. MakeMe 
        a <em>main.me</em> file which describes the project, before it discovers the local tools and components.
        Finally, it generates a start.me and a per-platform MakeMe file that describes the project build and system. </p>
        <a id="errors"></a>
        <h2>Seeing Errors</h2>
        <p>By default, MakeMe is fairly terse. It does not spew endless command lines that scroll off the screen.
        With traditional Make builds, it is too easy to miss critical compiler and linker warnings that are lost
        in pages of trace. In contrast, MakeMe displays the essential minimum. Only what it is doing to which target. 
        For example:
        <pre>$ me
   [Compile] src/deps/mpr/mprLib.c
      [Link] libmpr
   [Compile] src/deps/est/estLib.c
      [Link] libest
   [Compile] src/deps/mpr/mprSsl.c
      [Link] libmprssl</pre>
        <p>Here is an example of what a compiler warning looks like. Much easier to scan:</p>
        <pre>$ me
   [Compile] src/module.c
   [Compile] src/mpr.c
<b>me.es: ERROR: Building target /Users/mob/git/mpr/macosx-x64-debug/obj/mpr.o
Command failure: src/mpr.c:706:25: error: too many arguments to function call, 
    scaselessmatch(str, "high", "low");
    ~~~~~~~~~~~~~~~~~~~~~~      ^~~~
Command: /usr/bin/clang -c -o macosx-x64-debug/obj/mpr.o -arch x86_64 -Wall 
    -Wno-deprecated-declarations -g -Wno-unused-result -Wshorten-64-to-32 
    -DME_DEBUG -Imacosx-x64-debug/inc src/mpr.c</b>
</pre>
        <p>When there is a compilation error, MakeMe displays the full command that was used for the compile.</p>
        
        <a name="tracing"></a>
        <h2>Tracing Commands</h2>
        <p>Sometimes you need to see the all the exact commands that MakeMe is issuing to build targets. 
        To see these, run "me" with the <em>--show</em> switch (this can be abbreviated to -s).
<pre>$ me <b>-s</b>
   [Compile] src/deps/mpr/mprSsl.c
       [Run] /usr/bin/clang -c -o macosx-x64-release/obj/mprSsl.o -arch x86_64 \
             -Wall -Wno-deprecated-declarations -O3 -Wno-unused-result \
             -Wshorten-64-to-32 -Imacosx-x64-release/inc \
             src/deps/mpr/mprSsl.c
      [Link] libmprssl
</pre>
        <p>To learn more, read how to <a href="configuring.html">Configure Projects</a> with MakeMe.</p>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2014. 
            All rights reserved. Embedthis MakeMe, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> 
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
        var customSearchControl = new google.search.CustomSearchControl(
          'partner-pub-9935546676162772:ysvxxv4n9rx');

        customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
        var options = new google.search.DrawOptions();
        options.enableSearchboxOnly("http://embedthis.com/search.html");
        customSearchControl.draw('cse-search-form', options);
      }, true);
    </script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-179169-5']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
