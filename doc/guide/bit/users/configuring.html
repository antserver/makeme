<!-- BeginDsi "dsi/head.html" -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedthis Bit 0.8.0 Documentation</title>
    <meta name="keywords" content="Bit, Build It!, Javascript"/>
	<meta name="description" content="Embedthis Bit -- Fast, modern replacement for make and autoconf."/>
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    </![endif]-->
    <link href="http://www.google.com/cse/style/look/default.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://embedthis.com/">&nbsp;</a>
        <div class="topRight">
            <div class="search">
                <div id="cse-search-form">Loading</div>
                <div class='version'>Embedthis Bit 0.8.0</div>
            </div>
        </div>
        <div class="crumbs">
            <a href="../../../index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">User Guide</a>&gt; <b>Configuring</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            
                <h1>Quick Nav </h1>
                <ul>
<li><a href="#overview">Overview</a></li>
                </ul>
<!-- BeginDsi "dsi/guideSeeAlso.html" -->
        <h1>See Also</h1>
        <ul>
            <li><a href="../../../guide/bit/users/quick.html">Quick Start with Bit</a></li>
            <li><a href="../../../guide/bit/users/projects.html">Bit Projects</a></li>
            <li><a href="../../../guide/bit/users/compiling.html">Compiling Sources</a></li>
            <li><a href="../../../guide/bit/users/libraries.html">Building Libraries</a></li>
            <li><a href="../../../guide/bit/users/executables.html">Building Executables</a></li>
            <li><a href="../../../guide/bit/users/scripts.html">Running Scripts</a></li>
            <li><a href="../../../guide/bit/users/copying.html">Copying Files</a></li>
            <li><a href="../../../guide/bit/users/configuring.html">Configuring a Project</a></li>
            <li><a href="../../../guide/bit/users/debugging.html">Debugging a Build</a></li>
            <li><a href="../../../guide/bit/users/generating.html">Generating Projects</a></li>
            <li><a href="../../../guide/bit/users/make.html">Using Makefiles</a></li>
            <li><a href="../../../guide/bit/users/cross.html">Cross-Compiling</a></li>

            <li><a href="../../../guide/bit/users/http://ejscript.org/products/ejs/doc/api/ejscript/index.html">Ejscript Language</a></li>
            <li><a href="../../../guide/bit/users/http://ejscript.org/products/ejs/doc/index.html">Ejscript Documentation</a></li>
        </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
        <a id="configuring"></a>
        <h2>Configuring</h2>
        <p>To configure a product before building, run Bit using the <em>configure</em> target or alternatively use the
        <em>--config</em> switch. When configuring, Bit will determine the capabilities of the current system and search
        for extension packs. It will then create will create a platform configuration bit file that documents the
        current system.  The build output directory is of the form: OS-ARCH-PROFILE.
        It will also create a build output directory and a bit.h header. </p>
        <p>When configuring, Bit will load the <em>main.bit</em> file to determine how to configure the build. It will
        use the settings.required and settings.optional properties in the main.bit file for the list of required tools and
        extension packages to locate. Bit will search for these packages and will create definitions in the platform bit
        file for each package/tool.</p>
        
        <p>For example, this is a typical <em>settings</em> configuration:</p>
<pre>
settings: {
    product: 'mpr',
    title: 'Multithreaded Portable Runtime',
    company: 'Embedthis',
    version: '4.0.5',
    buildNumber: '4',
    '+required': [ 'utest' ],
    '+optional':  [ 'doxygen', 'man', 'man2html', 'md5', 'openssl', 'ssl' ],
},
</pre>
        <p>The <em>required</em> property defines the packages that are required to be present on the system to build. The
        plus symbol (+) before these properties indicates that these values should be added to pre-defined values. 
        Bit will define the required tools of <em>compiler</em> and <em>linker</em> as part of its standard definitions.</p>
        <h3>Out-of-source Tree Builds</h3>
        <p>Bit supports building from read-only source trees. To do this, use <em>bit -config path</em> when
        configuring. Run this from a writable directory and reference the read-only source tree via the
        <em>-config</em> switch. Bit will create the start.bit, platform bit file and platform output build directory in the
        writable (current) directory. Thereafter run <em>bit</em> from the writable directory for all operations.</p>
        <h2>Configuring for Cross-Compiling</h2>
        <p>To build a product for platform different to that of the local system is called cross compiling.
        Sometimes this cross compiling is just for a different instruction set (say x64 instead of x86). Other times
        it is for a completely different operating system and/or CPU architecture. In such cases a cross-compiler
        may be required to build for the target platform.</p>
        <p>Bit supports cross compiling via the <em>bit --platform OS-ARCH configure</em> switch. This adds a platform to the
        list of platforms to be made when building. Multiple platforms may be specified and the <em>local</em> platform alias
        may be used for the local development platform.</p>
        <p>Some products require local building to make tools that are required to build for any platform. These
        products add a "platforms: ['local']" property to their settings collection in the main.bit file. This
        automatically adds the local platform to the platforms list and is the same as adding <em>--platform local</em> on
        the command line when configuring.</p>
            <pre>bit --platform windows-x64 -configure .</pre>
        <p>This will create a windows-x64.bit configuration file and a start.es that references it. The platform
        switch does not need to be restated after configuration.</p>
        <pre>
MOB 
configure script vs bit configure
- configure --dump
- configure --reconfigure
- configure --set
- configure --with
- configure --without
</pre>
        </div>
        <h3>Environment Variables</h3>
        <p>Bit has default command paths and command flags for the compiler, linker and other tools. These can be overridden
        by providing environment variables containing alternate flags to use. </p>
        <p>Use the variables AR, CC and LD to specify the path to the archiver, compiler and linker tools.
        Use CFLAGS to provide compiler flags, DFLAGS for
        pre-processor definitions, IFLAGS for compiler include paths and LDFLAGS for linker flags.</p>
        <p>If these flags are
        provided to bit when building, they apply to that run only. If the flags are provide when configuring, they are
        saved in the generated platform build file and apply to all subsequent runs.
        For example:
            <pre>CC=/path/to/compiler CFLAGS=-w bit configure</pre>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2013. 
            All rights reserved. Embedthis Bit, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> 
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
        var customSearchControl = new google.search.CustomSearchControl(
          'partner-pub-9935546676162772:ysvxxv4n9rx');

        customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
        var options = new google.search.DrawOptions();
        options.enableSearchboxOnly("http://embedthis.com/search.html");
        customSearchControl.draw('cse-search-form', options);
      }, true);
    </script>
</body>
</html>
